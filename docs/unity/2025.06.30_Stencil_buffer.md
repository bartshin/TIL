- [Z (Depth) buffer](https://en.wikipedia.org/wiki/Z-buffering)와 비슷한 방식으로 해당 지점에서의 값을 비교하여 그 지점에 이미지를 그릴 것인지를 판정하는 역할   
- Transparent인 object와 invisible object에 대해서 Unity는 Z test를 실행할 수 없다   
#### [Stencil test](https://www.khronos.org/opengl/wiki/Stencil_Test)
- Stencil test는 Z buffer test 이후에 실행된다   
- fragment shader에서 해당 지점에 draw를 할 것인지를 판정
- stencil value는 0 ~ 255까지의 값으로 해당 지점에 fragement shader에 의해 이미지가 그려질 때 
  값을 비교해서 (stencil test) true이면 그려지고 false이면 생략하게 된다   
- stencil value는 test를 위해 값을 가져오기도 하지만 동시에 새로운 값을 쓰기도 한다  
- stencil value와 Ref value (비교 되상이 되는 값)의 비교는 never(그리지 않음), always(항상 그림), eq, gt, lt, ge, le (각각 부등호를 만족할 때만 그림)이 있다    
#### Stencil operation   
- stencil test의 결과가 true일 때와 false일 때 각각 다음 동작을 수행할 수 있다   
- Z test를 실패한 경우에도 ZFail operation을 통해 stencil operation을 실행할 수 있다   
- keep: 해당 값을 그대로 둠   
- zero: stencil value의 값을 0으로 변경   
- replace: stencil value의 값을 비교했던 Ref value의 값으로 변경   

#### 읽어 볼 내용   
[Stencil Unity Doc](https://docs.unity3d.com/Manual/SL-Stencil.html)   
[Culling & Depth Testing Unity Doc](https://docs.unity3d.com/2019.1/Documentation/Manual/SL-CullAndDepth.html)   
[Diable writing to the depth buffer](https://docs.unity3d.com/Manual//writing-shader-set-zwrite.html)   